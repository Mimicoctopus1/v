<!DOCTYPE html>
<!--
Hey everybody! Here's the inspiration for this project:
So, have you ever been watching a video, but then there was an ad, and you're like: "IIII'mmmmm never going to buy this weird Grommiry spellcheck! Why is there even such an ad for this?!" If that's you, then you know what it feels like to have an ad blow up in your face. Well, I thought maybe there would be a way to get rid of that, because the videos down here on KA don't have ads! Well, that's because KA uses 'embeds'. An embed gets the video and then puts it on your webpage, with no ads or "Please buy our Premium to get rid of ads." It also blocks autoplay from showing you videos you have no reason to be watching. THEENN, I found out that embed URL links are the same as normal ones, only with something in them that turns it into an embed. So, long story short: find some embed code, make a form to launch any url into the embed, stick it in an iframe, and POOF! All done. The only problem is that KA interface blocks iframes. Heh.
-->
<html>
    <head>
        <meta charset="utf-8">
        <title>I Like Boba</title>
    </head>
    <style>
    </style>
    <body>
        <h1 class = "awesomeHeading">
            Boba is Awesome
        </h1>
        <form>
        <select type = "text" class = "rating">
            <option value = "0">
                ???
            </option>
            <option value = "1">
                1
            </option>
            <option value = "2">
                2
            </option>
            <option value = "3">
                3
            </option>
            <option value = "4">
                4
            </option>
            <option value = "5">
                5
            </option>
            <option value = "6">
                6
            </option>
            <option value = "7">
                7
            </option>
            <option value = "8">
                8
            </option>
            <option value = "9">
                9
            </option>
            <option value = "10">
                10
            </option>
        </select>
        <input class = "submit" type = "button" value = "SUBMIT">
        </form>
        <br>
        <div style = "border: 1px solid black;"></div>
        <br>
        <form class = "videoForm">
            Have you ever wanted to watch a video without ADS? <small><em>Of course you have.</em></small> Well, now you can! Simply copy the URL and paste it below.
            <input class = "videoURL" type = "text" placeholder = "www.videos.com/example/blabla">
            <button type = "submit" class = "super">SUBMIT!</button>
            <div class = "iframe" style = "background-color: red;"></div>
        </form>
    </body>
    <script>
        var video = document.querySelectorAll(".video")[0];
        var videoURL = document.querySelectorAll(".videoURL")[0];
        var videoForm = document.querySelectorAll(".videoForm")[0];
        var iframe = document.querySelectorAll(".iframe")[0];
        var rating = document.getElementsByClassName("rating")[0];
        var submit = document.getElementsByClassName("submit")[0];
        var ratingMsgs = ["You don't know how much you like boba? Maybe you haven't tried it.", "1? Are you allergic or something?", "You must not like boba if you rated it 2.", "You don't like boba?", "I'm glad you don't think boba is the worst thing ever.", "Boba isn't always people's favorite drink, but it's alright, most of the time.", "Boba's good, isn't it?", "Boba is great!", "We love boba, don't we?", "Everything is boba!", "BOBA IS AWESOME!!!!!!!!!!"]
        var awesomeHeading = document.getElementsByClassName("awesomeHeading")[0];
        var ratingRep = 0;
        var translate = function() {
            alert(ratingMsgs[parseFloat(rating.value)]);
            recentRating = rating.value;
        };
        
        submit.addEventListener("click", translate);
        
        var swapUrl = function() {
            event.preventDefault();
            var watchIframeURL = videoURL.value;
            
            {
            var embedIframeURL = watchIframeURL
            embedIframeURL = embedIframeURL.replace('watch?v=', 'embed/');
            embedIframeURL = embedIframeURL.replace('&authuser=0', '');
            iframe.innerHTML = '<iframe width="853" height="480" src="' + embedIframeURL + '" title="Your Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>'
            alert(iframe.innerHTML);
            }/*Format the embed URL.*/
        };
        
        videoForm.addEventListener("submit", swapUrl);
    </script>
</html>
